{% extends 'user/basic.html' %}
{%load static %}
{%block title%}Project-Hub - Carts Available{%endblock%}
{%block csslink%}
<link rel="stylesheet" href="{% static 'user/css/project-cards-cart.css'%}" />
<link rel="stylesheet" href="{% static 'user/css/cart.css'%}" />
{%endblock%}
{%block css%}
#titleDiv :hover{
  transition:.2s;
  color:#2874f0;
}

.btnDesign2{
  padding: 5px 30px;
  margin: 2px;
  font-size: 1.3rem;
  border-radius: 2px;
  font-weight: 500;
  /* border: 2px solid #137ae1; */
  border: 2px solid #cb148ba8;
  color: #c81812a8;
}
.btnDesign2:hover{
  transition: .3s ease-in-out;
  border: 2px solid #cb148ba8;
  /* background: linear-gradient(100deg ,  #cb148ba8 ,#8912e48c,#137ae1) ; */
  background: #c81812a8 ;
  color: #e7efef;
}
{%endblock%}

{%block body%}

    <div class="container">
      <div class="row pt-4">
        <div class="col-8 cartItems mb-4">
          {% if cart %}
            {% for i in cart %}
                <div class="card-pro">
                        <div class="photo">
                            <a href="/projects/{{i.project.proj_id}}"><img src="/media/{{i.project.default_image}}" onclick="redirectHandlerProject()" style="width: 100%; height: 100%; border-radius: 10px; cursor:pointer;" ></a>
                        </div>
                        <div class="description">
                            <div>
                              <div id="titleDiv">
                                <h5><a href="/projects/{{i.project.proj_id}}">{{i.project.title}} {% if i.project.short_Desc %}<span> ( {{i.project.short_Desc}} )</span>{% endif %}</a></h5>
                              </div>
                                <p>{{i.project.full_Desc|title | truncatechars:150}}</p>
                                
                                {% comment %} <h4>Popular House Plant</h4> {% endcomment %}
                                <h1 class="mb-4 p-0">{% if  i.price == 0 %}
                                    <span class="fw-semibold fs-5">Free</span>
                                    <span class="text-decoration-line-through"> {{i.project.price}}0</span>
                                    <input type="hidden" id="price" value="0"/>
                                {% else%}
                                    <span class="fw-semibold fs-5">â‚¹ {{i.price}}0</span> 
                                    <span class="text-decoration-line-through"> {{i.project.price}}0</span>
                                    <input type="hidden" id="price" value="{{i.project.discounted_price}}"/>
                                {%endif%}</h1>
                                
                            </div>
                            <div class="card-footer mx-3">
                              <a href="#" id="removeItemBtn">Remove</a>
                             
                            </div>
                        </div>
                </div>
            {% endfor %}
            <div class="d-flex align-items-center justify-content-end p-4">
                <button type="button" class=" btnDesign2 mx-5">
                  Checkout
                </button>
            </div>
          {% else %}
            <div class="d-flex  flex-column justify-content-center align-items-center h-100">
              <h5>Your cart is empty!â˜¹</h5>
              <p>Explore our wide collection of projects and find something you needðŸ˜€</p>
              <a href="/projects/" class="btn btn-outline-dark">Find projects</a>
            </div>
          {% endif %}
        </div>
        <div class="col-4" style="font-family: ;">
            <div class="card mb-4 text-center">
              <div class="card-header py-3">
                <h5 class="mb-0">Summary</h5>
              </div>
              <div class="card-body">
                <ul class="list-group list-group-flush">
                  <li
                    class="list-group-item d-flex justify-content-between align-items-center border-0 py-2">
                    Products
                    <span style="letter-spacing: ;">{{cartCount}} Items</span>
                  </li>
                  <li
                    class="list-group-item d-flex justify-content-between align-items-center border-0 py-2">
                    Price
                    <span style="letter-spacing: 1.2px;">â‚¹{{total_original_price}}0</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center py-2">
                    Discount
                    <span class="text-success fw-semibold" style="letter-spacing: 1.2px;">-â‚¹{{discount}}0</span>
                  </li>
                  <li
                    class="list-group-item d-flex justify-content-between align-items-center border-0 py-2 mb-3 ">
                    <div>
                      <strong>Total amount</strong>
                      <strong>
                        <p class="mb-0">(including TAX)</p>
                      </strong>
                    </div>
                    <span><strong>{{total_descounted_price}}0 INR</strong></span>
                  </li>
                </ul>
                {% if not cartCount is 0 %}
                  <button type="button" class="btnDesign2 btn-block">
                    Checkout
                  </button>
                {% endif %}
              </div>
            </div>
          </div>
      </div>
    </div>

{%endblock body%}
